---
description: This files contains project specs like table names
globs:
alwaysApply: true
---

The goal of this project is to generate examp blueprints. It's basically a list of topics and sub-topcis with weights. Whereas the weights must always sum up to 100%. Keep in mind a topic can be divided by sub-topics where the sub-topics must again sum up to 100%.

This project has only 2 table called: `blueprint_edges` and `blueprint_edges` which the following schemas. Important, when the `parent_id` is empty it means it's a root node.

You can fine the typescript/supabase definition at `/lib/database.types.ts`

```
create table public.blueprint_edges (
  edget_id uuid not null default gen_random_uuid (),
  created_at timestamp with time zone not null default now(),
  parent_id uuid null,
  title text null default ''::text,
  description text null default ''::text,
  weight smallint not null default '0'::smallint,
  position integer not null default '-1'::integer,
  blueprint_id uuid not null,
  constraint edges_pkey primary key (edget_id),
  constraint edge_parent_id_fkey foreign KEY (parent_id) references blueprint_edges (edget_id) on delete CASCADE,
  constraint blueprint_edges_blueprint_id_fkey foreign KEY (blueprint_id) references blueprints (blueprint_id) on delete CASCADE
) TABLESPACE pg_default;
```

```
create table public.blueprints (
  blueprint_id uuid not null default gen_random_uuid (),
  created_at timestamp with time zone not null default now(),
  name text not null default ''::text,
  description text not null default ''::text,
  file_id text not null default ''::text,
  ai_notes text not null default ''::text,
  constraint blueprints_pkey primary key (blueprint_id)
) TABLESPACE pg_default;
```
